---
title: "全局配置"
description: "介绍 FGW 的全局配置，控制 FGW 的核心行为和处理流程"
weight: 1
draft: false
---

## 介绍

全局配置项是用来管理和调整 FGW 的核心行为和处理流程，这些配置能在 FGW 的各个功能和模块中被应用，支持如日志管理、网络超时设置、请求处理和健康检查等各种全局行为的定制化设置。

## 配置说明

下面是对[全局配置](/reference/configuration/#1-全局配置configs)的详细说明：

- `EnableDebug`：激活或禁用调试日志输出。当此选项设置为 `true` 时，系统将记录详细的调试信息，这对于开发和故障排查非常有价值。需要注意的是，持续的日志记录可能会对系统性能产生影响。

- `StripAnyHostPort`：控制是否剥离 HTTP 请求头中 Host 字段的端口信息。当此项为 `true` 时，例如，`Host: www.aaa.com:8080` 会被视作 `Host: www.aaa.com`，这有助于简化主机名的处理和路由。

- `DefaultPassthroughUpstreamPort`：在 [TLS 透传](/features/tls/passthrough/) 模式中，默认使用此端口号来转发流量，尤其是在上游服务器端口未被明确指定的情况下。它有助于确保在缺乏详细配置信息的情况下，流量能够被正确转发到目标。

- `SocketTimeout`：定义网络 socket 操作的超时时长，单位为 **秒**，默认值是 **60**。这是系统等待网络响应的最大时间阈值，通过这一设置可以防止网络问题导致的资源挂起。

- `PidFile`：指定一个文件路径，系统将在此文件中写入 Pipy 进程的 ID。这在进行进程管理和监视时可能会非常有用。

- `ResourceUsage`：控制是否收集及如何收集 Pipy 进程的资源使用数据，如 CPU 使用率和内存消耗。这些数据可用于监视系统的健康状态和进行性能优化。

- `HealthCheckLog`：确定如何记录和存储系统的健康检查日志。该设置指定了存储这些日志的服务器或存储解决方案的详细信息。

- `Gzip`：包含控制如何压缩静态文本文件的参数。这些设置影响如何对静态内容应用 Gzip 压缩，有助于减少传输的数据量和提高响应速度。

- `ProxyRedirect`：定义了如何重写上游服务器在 HTTP 响应（例如 Location 或 Refresh 头）中的 URL。这允许在必要时修改重定向 URL，以确保它们满足下游客户端的需求。

- `ErrorPage`：允许为特定的 HTTP 错误代码定义定制的错误页面或链接。当 FGW 检测到定义的错误代码时，它将返回与之关联的自定义页面或链接，以提供更丰富或友好的错误信息。